<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>

    <!-- fontawsome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" integrity="sha512-iecdLmaskl7CVkqkXNQ/ZH/XLlvWZOJyj7Yy7tcenmpD1ypASozpmT/E0iPtmFIB46ZmdtAc9eNBvH0H/ZpiBw==" crossorigin="anonymous" referrerpolicy="no-referrer" />

    <!-- css -->
    <link rel="stylesheet" href="../css/commond.css" />
    <link rel="stylesheet" href="../css/header.css" />
    <link rel="stylesheet" href="../css/footer.css" />
    <!-- <link rel="stylesheet" href="../css/.css" /> -->

</head>
<body>
    <!-- wrap -->
    <div class="wrap">
        <!-- header -->
        <header class="header"></header>
        <!-- /header -->
        <!-- ------------------------------- -->
        <!-- social-area -->
        <section class="social-area" style="padding-top: 200px;">
            <h2 class="section-title">
                <span>WELCOME!</span>
                <img src="../assets/image/logo.png" alt="logo"/>
            </h2>
            <!-- <form class="signup-form">
                <div>
                    이메일 : <input type="email" id="email-signup" placeholder="이메일" >
                </div>
                <div>
                    패스워드 : <input type="password" id="password-signup" placeholder="패스워드" >
                </div>
                <button type="submit" id="btn-signup">회원가입 하기</button>
                <button>로그인 하러 가기</button>
            </form> -->
            <button id="btn-social-login">Google login</button>
        </section>
        <!-- /social-area -->
        <!-- ------------------------------- -->
        <!-- footer -->
        <footer class="footer"></footer>
        <!-- /footer -->
    </div>
    <!-- /wrap -->

    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/9.23.0/firebase-app.js";
        import { getAnalytics } from "https://www.gstatic.com/firebasejs/9.23.0/firebase-analytics.js";
        import { getAuth, signInWithPopup, GoogleAuthProvider } from "https://www.gstatic.com/firebasejs/9.23.0/firebase-auth.js";

        const firebaseConfig = {
            apiKey: "AIzaSyCokCMiB2t_sqo7NMZfSY-duv0WzFoIq88",
            authDomain: "koita-1c079.firebaseapp.com",
            projectId: "koita-1c079",
            storageBucket: "koita-1c079.appspot.com",
            messagingSenderId: "240009170899",
            appId: "1:240009170899:web:f9544fdb8a50ee45e56926",
            measurementId: "G-93MHVB0GZP"
        };
        //Initialize firebase
        const app = initializeApp(firebaseConfig);
        const analytics = getAnalytics(app);
        const auth = getAuth();
        const provider = new GoogleAuthProvider();

        document.getElementById('btn-social-login').addEventListener('click', (event) => {
            console.log('google login clicked')
            signInWithPopup(auth, provider)
                .then((result) => {
                    // This gives you a Google Access Token. You can use it to access the Google API.
                    const credential = GoogleAuthProvider.credentialFromResult(result);
                    const token = credential.accessToken;
                    // The signed-in user info.
                    const user = result.user;
                    // IdP data available using getAdditionalUserInfo(result)
                    console.log(result);
                    // ...
                }).catch((error) => {
                    // Handle Errors here.
                    const errorCode = error.code;
                    const errorMessage = error.message;
                    // The email of the user's account used.
                    const email = error.customData.email;
                    // The AuthCredential type that was used.
                    const credential = GoogleAuthProvider.credentialFromError(error);
                    console.log(error);
                    // ...
                });
        })

    </script> 

    <!-- script -->
    <script src="../js/header.js"></script>
    <script src="../js/footer.js"></script>
</body>
</html>